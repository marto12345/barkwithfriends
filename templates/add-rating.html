{% extends 'base.html' %}
{% load staticfiles %}


{% block head_block %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="{% static 'rating_style.css' %}">


    <script src="static/jquery.js"></script>
    <script src="{% static 'fillorganizer.js' %}"></script>
{% endblock %}

{% block title_block %}
Ratings
{% endblock %}

{% block body_block %}

    <h>Add a Rating</h>
    {% csrf_token %}
        {% if Organizers %}

                 {% for organizer in Organizers %}

                    <ul class="row" >
                       <form class={{organizer}} id={{organizer}} class="submit" action="/ratings/{{ organizer }}" method="get" >

                        <p class={{organizer}} class="col-1">{{ organizer }} </p>

                        <a href="/ratings/{{ organizer }}" class={{organizer}} onclick="submit_form({{organizer}})"  >Add a rating</a><br>

                            <input hidden type="submit" value="Submit" >

                        </form>



                    </ul>
                 {% endfor %}

         {% else %}
             <strong>There are no organizers present.</strong>
         {% endif %}

 <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
   <script>
   function submit_form(param){
       //var org={{organizer}};

       console.log(param);
       param.submit();
       //var id=$(this).attr(param);
       //document.getElementById(id).submit();

       //var org=this.className;
       //var form = $(this).parents('form:first');
       //console.log(form);
       //var org=$('.submit p:first').innerHTML;
       //var form=document.getElementById(org);
       //form.submit();
       //$(this.form).submit();
       //this.form.submit();
      // this.parentElement.submit;
   }
   
   </script>
{% endblock %}